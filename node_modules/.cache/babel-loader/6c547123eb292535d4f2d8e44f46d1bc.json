{"ast":null,"code":"var _jsxFileName = \"/home/talha/React-E-commerce-Client/src/pages/Product.jsx\",\n    _s = $RefreshSig$();\n\nimport { Add, Remove } from \"@material-ui/icons\";\nimport React, { useEffect, useState } from \"react\";\nimport { Toast, ToastContainer } from \"react-bootstrap\";\nimport Loader from \"react-loader-spinner\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport StarRatings from \"react-star-ratings\";\nimport styled from \"styled-components\";\nimport { publicRequest } from \"../axiosMethod\";\nimport Footer from \"../components/Footer\";\nimport LowerAnnouncement from \"../components/LowerAnnouncement\";\nimport Navbar from \"../components/Navbar\";\nimport Newsletter from \"../components/Newsletter\";\nimport UpperAnnouncement from \"../components/UpperAnnouncement\";\nimport { shades } from \"../data\";\nimport { large, medium } from \"../responsive\"; //styled comps\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MainContainer = styled.div`\n  background-color: whitesmoke;\n`;\n_c = MainContainer;\nconst Container = styled.div`\n  margin: 2rem 8rem;\n  display: flex;\n  gap: 2rem;\n  justify-content: center;\n  ${large({\n  margin: \"2rem 1rem\"\n})}\n  ${medium({\n  flexDirection: \"column\",\n  alignItems: \"center\"\n})}\n`;\n_c2 = Container;\nconst ImageContainer = styled.div`\n  padding: 10px;\n  background-color: white;\n  box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\n    rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n  border-radius: 5px;\n`;\n_c3 = ImageContainer;\nconst DetailContainer = styled.div`\n  padding: 20px;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  width: 100%;\n  gap: 1px;\n`;\n_c4 = DetailContainer;\nconst ProductName = styled.div``;\n_c5 = ProductName;\nconst ProductBrand = styled.div``;\n_c6 = ProductBrand;\nconst ProductPrice = styled.div``;\n_c7 = ProductPrice;\nconst ProductDesc = styled.div``;\n_c8 = ProductDesc;\nconst ShadesContainer = styled.div``;\n_c9 = ShadesContainer;\nconst Shades = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n`;\n_c10 = Shades;\nconst ShadeSingle = styled.div`\n  height: 1.5rem;\n  width: 1.5rem;\n  background-color: ${props => props.hexValue};\n  border-radius: 50%;\n  border: 1px solid black;\n  cursor: pointer;\n  padding: 2px;\n  transform: ${props => props.shade === props.hexValue ? \"scale(1.3)\" : \" \"};\n  border-radius: ${props => props.shade === props.hexValue ? \"10%\" : \" \"};\n`;\n_c11 = ShadeSingle;\nconst CartContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  gap: 1rem;\n`;\n_c12 = CartContainer;\nconst QuantityContainer = styled.div`\n  padding: 4px;\n  background-color: #acd;\n  /* border: 1px solid black; */\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  margin: 1.5rem 0;\n  border-radius: 7px;\n  box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;\n`;\n_c13 = QuantityContainer;\nconst Button = styled.div`\n  border: none;\n  padding: 10px;\n  border-radius: 50px;\n  background-color: white;\n  margin: 5px 10px 5px 10px;\n  cursor: pointer;\n  transition: 0.7s linear ease-in;\n  &:focus {\n    background: #38a536;\n  }\n`;\n_c14 = Button;\nconst AddToCartContainer = styled.div`\n  margin: 1.5rem 0;\n`;\n_c15 = AddToCartContainer;\nconst CartButton = styled.div`\n  background-color: #4e4a4a;\n  padding: 5px 30px;\n  display: flex;\n  align-items: center;\n  color: white;\n  font-weight: 600;\n  border-radius: 7px;\n  box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;\n  border: none;\n  cursor: pointer;\n  height: 100%;\n`;\n_c16 = CartButton;\n\nconst Product = () => {\n  _s();\n\n  const id = useParams().productId; //states\n\n  let [product, setProduct] = useState({});\n  console.log(\"product details\", product);\n  const [loading, setLoading] = useState(true);\n  let [shadeIn, setShade] = React.useState(\"\");\n  let [quantity, setQuantity] = React.useState(1);\n  console.log(id);\n  const dispatch = useDispatch();\n  const [alert, setAlert] = useState(false);\n  const [error, setError] = useState(false);\n\n  const getProduct = async id => {\n    try {\n      console.log(\"in product\"); //id getting from url params ;\n\n      let res = await publicRequest.get(`/product/find/${id}`);\n      console.log(res);\n      setProduct(res.data);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getProduct(id);\n  }, [id]); //handleshade\n\n  const handleShade = value => {\n    setShade(value);\n  }; //inc or dec\n\n\n  const handleQuantity = value => {\n    if (value === \"inc\") {\n      setQuantity(quantity + 1);\n    } else {\n      if (quantity > 1) {\n        setQuantity(quantity - 1);\n      }\n    }\n  }; //add cart\n\n\n  const handleCart = () => {\n    console.log(product);\n    let product_colors = shadeIn;\n    let cartProduct = { ...product,\n      quantity,\n      product_colors\n    };\n    console.log(cartProduct);\n\n    if (product.product_colors.length > 0) {\n      if (cartProduct.product_colors.length > 0) {\n        setAlert(true);\n        dispatch({\n          type: \"addProduct\",\n          payload: cartProduct\n        });\n        setError(false);\n      } else {\n        setError(true);\n      }\n    } else {\n      setAlert(true);\n      dispatch({\n        type: \"addProduct\",\n        payload: cartProduct\n      });\n      setError(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [alert && /*#__PURE__*/_jsxDEV(ToastContainer, {\n      postion: \"botton-end\",\n      children: /*#__PURE__*/_jsxDEV(Toast, {\n        bg: \"success\",\n        style: {\n          width: \"15rem\",\n          height: \"3rem\",\n          padding: \"5px\"\n        },\n        onClose: () => setAlert(false),\n        show: alert,\n        delay: 3000,\n        autohide: true,\n        children: \"Your item is added to cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MainContainer, {\n      children: [/*#__PURE__*/_jsxDEV(UpperAnnouncement, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LowerAnnouncement, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center m-5\",\n          children: /*#__PURE__*/_jsxDEV(Loader, {\n            type: \"TailSpin\",\n            color: \"#25283D\",\n            height: 100,\n            width: 100\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(ImageContainer, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.image_link,\n              alt: \"product\",\n              style: {\n                objectFit: \"contain\"\n              },\n              width: \"350px\",\n              height: \"500px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(DetailContainer, {\n            children: [/*#__PURE__*/_jsxDEV(ProductName, {\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ProductBrand, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: product.brand\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ProductPrice, {\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [product.price, \" $\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StarRatings, {\n              rating: product.rating,\n              starRatedColor: \"gold\",\n              numberOfStars: 5,\n              name: \"rating\",\n              starDimension: \"20px\",\n              starSpacing: \"2px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ProductDesc, {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: \"grey\"\n                },\n                children: product.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), shades.length > 1 && /*#__PURE__*/_jsxDEV(ShadesContainer, {\n              children: product.product_colors && product.product_colors.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"Choose Shades\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Shades, {\n                  children: product.product_colors.map((shade, index) => {\n                    return /*#__PURE__*/_jsxDEV(ShadeSingle, {\n                      hexValue: shade.hex_value,\n                      shade: shadeIn,\n                      onClick: () => {\n                        handleShade(shade.hex_value);\n                      }\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 31\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 25\n                }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"red\",\n                    marginTop: \"5px\"\n                  },\n                  children: \"Please choose one\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(CartContainer, {\n              children: [/*#__PURE__*/_jsxDEV(QuantityContainer, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => {\n                    handleQuantity(\"dec\");\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Remove, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  style: {\n                    display: \"inline-block\"\n                  },\n                  children: quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => {\n                    handleQuantity(\"inc\");\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(AddToCartContainer, {\n                children: /*#__PURE__*/_jsxDEV(CartButton, {\n                  onClick: handleCart,\n                  children: \"Add To Cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Newsletter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Product, \"Z96hLtK/KZi2vKjObV2f/5t37rs=\", false, function () {\n  return [useParams, useDispatch];\n});\n\n_c17 = Product;\nexport default Product;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17;\n\n$RefreshReg$(_c, \"MainContainer\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"ImageContainer\");\n$RefreshReg$(_c4, \"DetailContainer\");\n$RefreshReg$(_c5, \"ProductName\");\n$RefreshReg$(_c6, \"ProductBrand\");\n$RefreshReg$(_c7, \"ProductPrice\");\n$RefreshReg$(_c8, \"ProductDesc\");\n$RefreshReg$(_c9, \"ShadesContainer\");\n$RefreshReg$(_c10, \"Shades\");\n$RefreshReg$(_c11, \"ShadeSingle\");\n$RefreshReg$(_c12, \"CartContainer\");\n$RefreshReg$(_c13, \"QuantityContainer\");\n$RefreshReg$(_c14, \"Button\");\n$RefreshReg$(_c15, \"AddToCartContainer\");\n$RefreshReg$(_c16, \"CartButton\");\n$RefreshReg$(_c17, \"Product\");","map":{"version":3,"sources":["/home/talha/React-E-commerce-Client/src/pages/Product.jsx"],"names":["Add","Remove","React","useEffect","useState","Toast","ToastContainer","Loader","useDispatch","useParams","StarRatings","styled","publicRequest","Footer","LowerAnnouncement","Navbar","Newsletter","UpperAnnouncement","shades","large","medium","MainContainer","div","Container","margin","flexDirection","alignItems","ImageContainer","DetailContainer","ProductName","ProductBrand","ProductPrice","ProductDesc","ShadesContainer","Shades","ShadeSingle","props","hexValue","shade","CartContainer","QuantityContainer","Button","AddToCartContainer","CartButton","Product","id","productId","product","setProduct","console","log","loading","setLoading","shadeIn","setShade","quantity","setQuantity","dispatch","alert","setAlert","error","setError","getProduct","res","get","data","handleShade","value","handleQuantity","handleCart","product_colors","cartProduct","length","type","payload","width","height","padding","image_link","objectFit","name","brand","price","rating","color","description","map","index","hex_value","marginTop","display"],"mappings":"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","sourcesContent":["import { Add, Remove } from \"@material-ui/icons\";\nimport React, { useEffect, useState } from \"react\";\nimport { Toast, ToastContainer } from \"react-bootstrap\";\nimport Loader from \"react-loader-spinner\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport StarRatings from \"react-star-ratings\";\nimport styled from \"styled-components\";\nimport { publicRequest } from \"../axiosMethod\";\nimport Footer from \"../components/Footer\";\nimport LowerAnnouncement from \"../components/LowerAnnouncement\";\nimport Navbar from \"../components/Navbar\";\nimport Newsletter from \"../components/Newsletter\";\nimport UpperAnnouncement from \"../components/UpperAnnouncement\";\nimport { shades } from \"../data\";\nimport { large, medium } from \"../responsive\";\n\n//styled comps\n\nconst MainContainer = styled.div`\n  background-color: whitesmoke;\n`;\nconst Container = styled.div`\n  margin: 2rem 8rem;\n  display: flex;\n  gap: 2rem;\n  justify-content: center;\n  ${large({ margin: \"2rem 1rem\" })}\n  ${medium({ flexDirection: \"column\", alignItems: \"center\" })}\n`;\n\nconst ImageContainer = styled.div`\n  padding: 10px;\n  background-color: white;\n  box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\n    rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n  border-radius: 5px;\n`;\nconst DetailContainer = styled.div`\n  padding: 20px;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  width: 100%;\n  gap: 1px;\n`;\nconst ProductName = styled.div``;\nconst ProductBrand = styled.div``;\nconst ProductPrice = styled.div``;\nconst ProductDesc = styled.div``;\nconst ShadesContainer = styled.div``;\nconst Shades = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  flex-wrap: wrap;\n`;\nconst ShadeSingle = styled.div`\n  height: 1.5rem;\n  width: 1.5rem;\n  background-color: ${(props) => props.hexValue};\n  border-radius: 50%;\n  border: 1px solid black;\n  cursor: pointer;\n  padding: 2px;\n  transform: ${(props) =>\n    props.shade === props.hexValue ? \"scale(1.3)\" : \" \"};\n  border-radius: ${(props) => (props.shade === props.hexValue ? \"10%\" : \" \")};\n`;\nconst CartContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  gap: 1rem;\n`;\nconst QuantityContainer = styled.div`\n  padding: 4px;\n  background-color: #acd;\n  /* border: 1px solid black; */\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  margin: 1.5rem 0;\n  border-radius: 7px;\n  box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;\n`;\nconst Button = styled.div`\n  border: none;\n  padding: 10px;\n  border-radius: 50px;\n  background-color: white;\n  margin: 5px 10px 5px 10px;\n  cursor: pointer;\n  transition: 0.7s linear ease-in;\n  &:focus {\n    background: #38a536;\n  }\n`;\n\nconst AddToCartContainer = styled.div`\n  margin: 1.5rem 0;\n`;\nconst CartButton = styled.div`\n  background-color: #4e4a4a;\n  padding: 5px 30px;\n  display: flex;\n  align-items: center;\n  color: white;\n  font-weight: 600;\n  border-radius: 7px;\n  box-shadow: rgba(0, 0, 0, 0.18) 0px 2px 4px;\n  border: none;\n  cursor: pointer;\n  height: 100%;\n`;\n\nconst Product = () => {\n  const id = useParams().productId;\n  //states\n  let [product, setProduct] = useState({});\n  console.log(\"product details\", product);\n  const [loading, setLoading] = useState(true);\n  let [shadeIn, setShade] = React.useState(\"\");\n  let [quantity, setQuantity] = React.useState(1);\n  console.log(id);\n  const dispatch = useDispatch();\n  const [alert, setAlert] = useState(false);\n  const [error, setError] = useState(false);\n\n  const getProduct = async (id) => {\n    try {\n      console.log(\"in product\");\n      //id getting from url params ;\n      let res = await publicRequest.get(`/product/find/${id}`);\n      console.log(res);\n      setProduct(res.data);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getProduct(id);\n  }, [id]);\n\n  //handleshade\n  const handleShade = (value) => {\n    setShade(value);\n  };\n\n  //inc or dec\n  const handleQuantity = (value) => {\n    if (value === \"inc\") {\n      setQuantity(quantity + 1);\n    } else {\n      if (quantity > 1) {\n        setQuantity(quantity - 1);\n      }\n    }\n  };\n\n  //add cart\n  const handleCart = () => {\n    console.log(product);\n    let product_colors = shadeIn;\n    let cartProduct = { ...product, quantity, product_colors };\n    console.log(cartProduct);\n    if (product.product_colors.length > 0) {\n      if (cartProduct.product_colors.length > 0) {\n        setAlert(true);\n        dispatch({ type: \"addProduct\", payload: cartProduct });\n        setError(false);\n      } else {\n        setError(true);\n      }\n    } else {\n      setAlert(true);\n      dispatch({ type: \"addProduct\", payload: cartProduct });\n      setError(false);\n    }\n  };\n\n  return (\n    <>\n      {alert && (\n        <ToastContainer postion=\"botton-end\">\n          <Toast\n            bg={\"success\"}\n            style={{ width: \"15rem\", height: \"3rem\", padding: \"5px\" }}\n            onClose={() => setAlert(false)}\n            show={alert}\n            delay={3000}\n            autohide\n          >\n            Your item is added to cart\n          </Toast>\n        </ToastContainer>\n      )}\n      <MainContainer>\n        <UpperAnnouncement />\n        <Navbar />\n        <LowerAnnouncement />\n        <Container>\n          {loading ? (\n            <div className=\"d-flex justify-content-center m-5\">\n              <Loader\n                type=\"TailSpin\"\n                color=\"#25283D\"\n                height={100}\n                width={100}\n              />\n            </div>\n          ) : (\n            <>\n              <ImageContainer>\n                <img\n                  src={product.image_link}\n                  alt=\"product\"\n                  style={{ objectFit: \"contain\" }}\n                  width=\"350px\"\n                  height=\"500px\"\n                />\n              </ImageContainer>\n              <DetailContainer>\n                <ProductName>\n                  <h2>{product.name}</h2>\n                </ProductName>\n                <ProductBrand>\n                  <p>{product.brand}</p>\n                </ProductBrand>\n                <ProductPrice>\n                  <h2>{product.price} $</h2>\n                </ProductPrice>\n                <StarRatings\n                  rating={product.rating}\n                  starRatedColor=\"gold\"\n                  numberOfStars={5}\n                  name=\"rating\"\n                  starDimension=\"20px\"\n                  starSpacing=\"2px\"\n                />\n                <ProductDesc>\n                  <p style={{ color: \"grey\" }}>{product.description}</p>\n                </ProductDesc>\n                {shades.length > 1 && (\n                  <ShadesContainer>\n                    {product.product_colors &&\n                    product.product_colors.length > 0 ? (\n                      <>\n                        <h5>Choose Shades</h5>\n                        <Shades>\n                          {product.product_colors.map((shade, index) => {\n                            return (\n                              <ShadeSingle\n                                key={index}\n                                hexValue={shade.hex_value}\n                                shade={shadeIn}\n                                onClick={() => {\n                                  handleShade(shade.hex_value);\n                                }}\n                              ></ShadeSingle>\n                            );\n                          })}\n                        </Shades>\n                        {error && (\n                          <p style={{ color: \"red\", marginTop: \"5px\" }}>\n                            Please choose one\n                          </p>\n                        )}\n                      </>\n                    ) : (\n                      <></>\n                    )}\n                  </ShadesContainer>\n                )}\n                <CartContainer>\n                  <QuantityContainer>\n                    <Button\n                      onClick={() => {\n                        handleQuantity(\"dec\");\n                      }}\n                    >\n                      <Remove />\n                    </Button>\n                    <h3 style={{ display: \"inline-block\" }}>{quantity}</h3>\n                    <Button\n                      onClick={() => {\n                        handleQuantity(\"inc\");\n                      }}\n                    >\n                      <Add />\n                    </Button>\n                  </QuantityContainer>\n                  <AddToCartContainer>\n                    <CartButton onClick={handleCart}>Add To Cart</CartButton>\n                  </AddToCartContainer>\n                </CartContainer>\n              </DetailContainer>\n            </>\n          )}\n        </Container>\n        <Newsletter />\n        <Footer />\n      </MainContainer>\n    </>\n  );\n};\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}
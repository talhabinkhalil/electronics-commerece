{"ast":null,"code":"var _jsxFileName = \"/home/talha/React-E-commerce-Client/src/AdminPages/AdminProductList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport AdminNav from \"../AdminComponents/AdminNav\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport Footer from \"../components/Footer\";\nimport { publicRequest } from \"../axiosMethod\";\nimport { useSelector } from \"react-redux\";\nimport { large } from \"../responsive\"; //styled comp\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MainContainer = styled.div`\n  background-color: whitesmoke;\n`;\n_c = MainContainer;\nconst Container = styled.div`\n  margin: 2rem 8rem;\n  ${large({\n  margin: \"2rem 1rem\"\n})}\n`;\n_c2 = Container;\nconst GridContainer = styled.div`\n  background-color: white;\n  height: 100vh;\n`;\n_c3 = GridContainer;\nconst ProductDiv = styled.div`\n  display: flex;\n  align-items: center;\n`;\n_c4 = ProductDiv;\nconst ProductImg = styled.img`\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 10px;\n  box-shadow: rgba(0, 0, 0, 0.07) 0px 1px 1px, rgba(0, 0, 0, 0.07) 0px 2px 2px,\n    rgba(0, 0, 0, 0.07) 0px 4px 4px, rgba(0, 0, 0, 0.07) 0px 8px 8px,\n    rgba(0, 0, 0, 0.07) 0px 16px 16px;\n`;\n_c5 = ProductImg;\nconst Button = styled.button`\n  padding: 5px 10px;\n  border: none;\n  background-color: #3bb077;\n  color: white;\n  cursor: pointer;\n  margin: 1rem;\n  height: 100%;\n  border-radius: 10px;\n`;\n_c6 = Button;\nconst Header = styled.div`\n  display: flex;\n  margin: 2rem 0;\n  width: 100%;\n`;\n_c7 = Header;\nconst AddContainer = styled.div`\n  width: 100%;\n  text-align: right;\n  height: 3rem;\n`;\n_c8 = AddContainer;\n\nconst AdminProductList = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const user = useSelector(state => state.user);\n  console.log(\"user in products\", user);\n  const [loading, setLoading] = useState(false);\n\n  const getProducts = async () => {\n    try {\n      setLoading(true);\n      const res = await publicRequest.get(`/product`);\n      setProducts(res.data);\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n  let deleteId;\n\n  const deleteProduct = id => {\n    deleteId = id;\n  };\n\n  const handleDelete = async () => {\n    try {\n      console.log(\"in product delete\");\n      const res = await publicRequest.delete(`/product/${deleteId}`, {\n        headers: {\n          token: user.currentUser.token\n        }\n      });\n      console.log(res);\n      getProducts();\n    } catch (err) {\n      console.log(\"err in \");\n      console.log(err);\n    }\n  }; //details\n\n\n  const columns = [{\n    field: \"_id\",\n    headerName: \"ID\",\n    width: 220\n  }, {\n    field: \"product\",\n    headerName: \"Product\",\n    width: 300,\n    renderCell: params => {\n      return /*#__PURE__*/_jsxDEV(ProductDiv, {\n        children: [/*#__PURE__*/_jsxDEV(ProductImg, {\n          src: params.row.image_link,\n          alt: \"product_image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this), params.row.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    field: \"price\",\n    headerName: \"Price in $\",\n    width: 150\n  }, {\n    field: \"rating\",\n    headerName: \"Rating\",\n    width: 150\n  }, {\n    field: \"action\",\n    headerName: \"Action\",\n    width: 150,\n    renderCell: params => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/adminproductedit/${params.row._id}`,\n          children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DeleteOutline, {\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#deletemodal\",\n          style: {\n            color: \"red\",\n            cursor: \"pointer\",\n            marginLeft: \"15px\"\n          },\n          onClick: () => deleteProduct(params.row._id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MainContainer, {\n      children: [/*#__PURE__*/_jsxDEV(AdminNav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center m-5\",\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          type: \"TailSpin\",\n          color: \"#25283D\",\n          height: 100,\n          width: 100\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"20rem\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Product Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AddContainer, {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/adminproductadd\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"bg-primary\",\n                children: \"Add New \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(GridContainer, {\n          children: /*#__PURE__*/_jsxDEV(DataGrid, {\n            rows: products,\n            disableSelectionOnClick: true,\n            columns: columns,\n            getRowId: row => row._id,\n            checkboxSelection: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), !loading && /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal  fade\",\n      id: \"deletemodal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog modal-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: \"Are you sure, You want to delete product?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              \"data-dismiss\": \"modal\",\n              onClick: handleDelete,\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-info\",\n              \"data-dismiss\": \"modal\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AdminProductList, \"SAjd6/dvSX7TlJNm8ItCRy5j39E=\", false, function () {\n  return [useSelector];\n});\n\n_c9 = AdminProductList;\nexport default AdminProductList;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"MainContainer\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"GridContainer\");\n$RefreshReg$(_c4, \"ProductDiv\");\n$RefreshReg$(_c5, \"ProductImg\");\n$RefreshReg$(_c6, \"Button\");\n$RefreshReg$(_c7, \"Header\");\n$RefreshReg$(_c8, \"AddContainer\");\n$RefreshReg$(_c9, \"AdminProductList\");","map":{"version":3,"sources":["/home/talha/React-E-commerce-Client/src/AdminPages/AdminProductList.jsx"],"names":["React","useEffect","useState","Loader","Link","styled","AdminNav","DataGrid","DeleteOutline","Edit","Footer","publicRequest","useSelector","large","MainContainer","div","Container","margin","GridContainer","ProductDiv","ProductImg","img","Button","button","Header","AddContainer","AdminProductList","products","setProducts","user","state","console","log","loading","setLoading","getProducts","res","get","data","err","deleteId","deleteProduct","id","handleDelete","delete","headers","token","currentUser","columns","field","headerName","width","renderCell","params","row","image_link","name","_id","color","cursor","marginLeft"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport AdminNav from \"../AdminComponents/AdminNav\";\nimport { DataGrid } from \"@material-ui/data-grid\";\n\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport Footer from \"../components/Footer\";\nimport { publicRequest } from \"../axiosMethod\";\nimport { useSelector } from \"react-redux\";\nimport { large } from \"../responsive\";\n\n//styled comp\n\nconst MainContainer = styled.div`\n  background-color: whitesmoke;\n`;\nconst Container = styled.div`\n  margin: 2rem 8rem;\n  ${large({ margin: \"2rem 1rem\" })}\n`;\nconst GridContainer = styled.div`\n  background-color: white;\n  height: 100vh;\n`;\n\nconst ProductDiv = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst ProductImg = styled.img`\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 10px;\n  box-shadow: rgba(0, 0, 0, 0.07) 0px 1px 1px, rgba(0, 0, 0, 0.07) 0px 2px 2px,\n    rgba(0, 0, 0, 0.07) 0px 4px 4px, rgba(0, 0, 0, 0.07) 0px 8px 8px,\n    rgba(0, 0, 0, 0.07) 0px 16px 16px;\n`;\n\nconst Button = styled.button`\n  padding: 5px 10px;\n  border: none;\n  background-color: #3bb077;\n  color: white;\n  cursor: pointer;\n  margin: 1rem;\n  height: 100%;\n  border-radius: 10px;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  margin: 2rem 0;\n  width: 100%;\n`;\n\nconst AddContainer = styled.div`\n  width: 100%;\n  text-align: right;\n  height: 3rem;\n`;\n\nconst AdminProductList = () => {\n  const [products, setProducts] = useState([]);\n  const user = useSelector((state) => state.user);\n  console.log(\"user in products\", user);\n  const [loading, setLoading] = useState(false);\n  const getProducts = async () => {\n    try {\n      setLoading(true);\n      const res = await publicRequest.get(`/product`);\n      setProducts(res.data);\n\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n  let deleteId;\n  const deleteProduct = (id) => {\n    deleteId = id;\n  };\n\n  const handleDelete = async () => {\n    try {\n      console.log(\"in product delete\");\n      const res = await publicRequest.delete(`/product/${deleteId}`, {\n        headers: {\n          token: user.currentUser.token,\n        },\n      });\n      console.log(res);\n      getProducts();\n    } catch (err) {\n      console.log(\"err in \");\n      console.log(err);\n    }\n  };\n\n  //details\n  const columns = [\n    { field: \"_id\", headerName: \"ID\", width: 220 },\n    {\n      field: \"product\",\n      headerName: \"Product\",\n      width: 300,\n      renderCell: (params) => {\n        return (\n          <ProductDiv>\n            <ProductImg src={params.row.image_link} alt=\"product_image\" />\n            {params.row.name}\n          </ProductDiv>\n        );\n      },\n    },\n    {\n      field: \"price\",\n      headerName: \"Price in $\",\n      width: 150,\n    },\n    {\n      field: \"rating\",\n      headerName: \"Rating\",\n      width: 150,\n    },\n    {\n      field: \"action\",\n      headerName: \"Action\",\n      width: 150,\n      renderCell: (params) => {\n        return (\n          <>\n            <Link to={`/adminproductedit/${params.row._id}`}>\n              <Edit />\n            </Link>\n            <DeleteOutline\n              data-toggle=\"modal\"\n              data-target=\"#deletemodal\"\n              style={{ color: \"red\", cursor: \"pointer\", marginLeft: \"15px\" }}\n              onClick={() => deleteProduct(params.row._id)}\n            />\n          </>\n        );\n      },\n    },\n  ];\n  return (\n    <>\n      <MainContainer>\n        <AdminNav />\n        {loading ? (\n          <div className=\"d-flex justify-content-center m-5\">\n            <Loader type=\"TailSpin\" color=\"#25283D\" height={100} width={100} />\n          </div>\n        ) : (\n          <Container>\n            <Header>\n              <div style={{ width: \"20rem\" }}>\n                <h3>Product Details</h3>\n              </div>\n              <AddContainer>\n                <Link to=\"/adminproductadd\">\n                  <Button className=\"bg-primary\">Add New </Button>\n                </Link>\n              </AddContainer>\n            </Header>\n            <GridContainer>\n              <DataGrid\n                rows={products}\n                disableSelectionOnClick\n                columns={columns}\n                getRowId={(row) => row._id}\n                checkboxSelection\n              />\n            </GridContainer>\n          </Container>\n        )}\n      </MainContainer>\n\n      {!loading && <Footer />}\n\n      <div className=\"modal  fade\" id=\"deletemodal\">\n        <div className=\"modal-dialog modal-lg\">\n          <div className=\"modal-content\">\n            <div className=\"modal-body\">\n              Are you sure, You want to delete product?\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-danger\"\n                data-dismiss=\"modal\"\n                onClick={handleDelete}\n              >\n                Delete\n              </button>\n              <button className=\"btn btn-info\" data-dismiss=\"modal\">\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AdminProductList;\n"]},"metadata":{},"sourceType":"module"}
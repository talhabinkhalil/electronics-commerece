{"ast":null,"code":"var _jsxFileName = \"/home/talha/React-E-commerce-Client/src/pages/Cart.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from \"react\";\nimport { Toast, ToastContainer } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport CartItem from \"../components/CartItem\";\nimport Footer from \"../components/Footer\";\nimport LowerAnnouncement from \"../components/LowerAnnouncement\";\nimport Navbar from \"../components/Navbar\";\nimport Newsletter from \"../components/Newsletter\";\nimport UpperAnnouncement from \"../components/UpperAnnouncement\";\nimport { large, medium } from \"../responsive\";\nimport { useNavigate } from \"react-router\";\nimport { publicRequest } from \"../axiosMethod\";\nimport StripeCheckout from \"react-stripe-checkout\"; //styled comp\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MainContainer = styled.div`\n  background-color: whitesmoke;\n`;\n_c = MainContainer;\nconst TopButtons = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 2rem 8rem;\n  ${medium({\n  margin: \"2rem 1rem\"\n})}\n`;\n_c2 = TopButtons;\nconst Button = styled.div`\n  border: none;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 5px 0px,\n    rgba(0, 0, 0, 0.1) 0px 0px 1px 0px;\n  background-color: #464141;\n  color: white;\n  border-radius: 7px;\n  padding: 10px;\n  cursor: pointer;\n  margin: 1rem;\n  font-weight: 700;\n  transition: 0.3s ease;\n\n  &:hover {\n    background-color: #000;\n    color: #fff;\n\n    box-shadow: rgb(38, 57, 77) 0px 20px 20px -10px;\n  }\n  &:focus {\n    color: #0f0;\n  }\n`;\n_c3 = Button;\nconst Container = styled.div`\n  margin: 2rem 8rem;\n  display: flex;\n  gap: 2rem;\n  ${large({\n  margin: \"2rem 1rem\",\n  gap: \"0\"\n})}\n  ${medium({\n  flexDirection: \"column\"\n})}\n`;\n_c4 = Container;\nconst OrderContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  width: 75%;\n  height: 100%;\n  gap: 2rem;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  ${medium({\n  width: \"100%\"\n})}\n`;\n_c5 = OrderContainer;\nconst SummaryContainer = styled.div`\n  background-color: white;\n  padding: 18px;\n  width: 25%;\n  height: 100%;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  ${medium({\n  width: \"100%\"\n})}\n`;\n_c6 = SummaryContainer;\nconst SummaryLine = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n`;\n_c7 = SummaryLine;\n\nconst Cart = () => {\n  _s();\n\n  const cart = useSelector(state => state.cart);\n  const [stripeToken, setStripeToken] = useState(null);\n  const history = useNavigate();\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const [alert, setAlert] = useState(false);\n\n  const onToken = token => {\n    console.log(token);\n    setStripeToken(token);\n  };\n\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        console.log(cart.total);\n        const res = await publicRequest.post(\"/payment\", {\n          tokenId: stripeToken.id,\n          amount: 500\n        }, {\n          headers: {\n            token: user.currentUser.token\n          }\n        });\n        dispatch({\n          type: \"emptyCart\"\n        });\n        history(\"/success\", {\n          stripeData: res.data,\n          products: cart\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    stripeToken && makeRequest();\n  }, [stripeToken]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      positon: \"top-end\",\n      children: /*#__PURE__*/_jsxDEV(Toast, {\n        bg: \"danger\",\n        style: {\n          width: \"15rem\",\n          height: \"3rem\",\n          padding: \"5px\"\n        },\n        onClose: () => setAlert(false),\n        show: alert,\n        delay: 3000,\n        autohide: true,\n        children: \"Please Log in to proceed Check out..!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MainContainer, {\n      children: [/*#__PURE__*/_jsxDEV(UpperAnnouncement, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LowerAnnouncement, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TopButtons, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/products\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              children: \"Continue To Shop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Your Bag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: cart.products.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(OrderContainer, {\n            children: /*#__PURE__*/_jsxDEV(CartItem, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SummaryContainer, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"SUMMARY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryLine, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"SubTotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\" $\", cart.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryLine, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Shipping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \" $5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryLine, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Shipping Discount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \" - $5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SummaryLine, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\" $\", cart.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: user.currentUser ? /*#__PURE__*/_jsxDEV(StripeCheckout, {\n                name: \"MakeYouUp\",\n                image: \"https://source.unsplash.com/yd3mg93Smn8\",\n                billingAddress: true,\n                shippingAddress: true,\n                description: `Your Cart Total is $ ${cart.total}`,\n                amount: cart.total * 100,\n                token: onToken,\n                stripeKey: \"pk_test_51Jx2WuSG7y1nLb4U9u9WivGzguKP1yPcnIMNrkXBAs7Hi4JiHfVYbETDhDDYUsoU3ZoGh7twA468JIIvhcPgizPd00E0HW7iaS\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  children: \"Checkout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => {\n                    setAlert(true);\n                  },\n                  children: \"checkOut\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-danger my-5 \",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center bg-info p-3 text-light\",\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"IMPORTANT *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Please use the below credentials to checkout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"card number: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"4242424242424242\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 34\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Expiry:\", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \" 02/22 or any future dates \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 28\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"CVV: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"222 or any three digit number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 26\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: \"center\",\n              width: \"100%\"\n            },\n            children: \"Your Bag is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Newsletter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Cart, \"mruXzU8kXs5/UdzfJPwYGwb/TME=\", false, function () {\n  return [useSelector, useNavigate, useSelector, useDispatch];\n});\n\n_c8 = Cart;\nexport default Cart;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"MainContainer\");\n$RefreshReg$(_c2, \"TopButtons\");\n$RefreshReg$(_c3, \"Button\");\n$RefreshReg$(_c4, \"Container\");\n$RefreshReg$(_c5, \"OrderContainer\");\n$RefreshReg$(_c6, \"SummaryContainer\");\n$RefreshReg$(_c7, \"SummaryLine\");\n$RefreshReg$(_c8, \"Cart\");","map":{"version":3,"sources":["/home/talha/React-E-commerce-Client/src/pages/Cart.jsx"],"names":["React","useEffect","useState","Toast","ToastContainer","useDispatch","useSelector","Link","styled","CartItem","Footer","LowerAnnouncement","Navbar","Newsletter","UpperAnnouncement","large","medium","useNavigate","publicRequest","StripeCheckout","MainContainer","div","TopButtons","margin","Button","Container","gap","flexDirection","OrderContainer","width","SummaryContainer","SummaryLine","Cart","cart","state","stripeToken","setStripeToken","history","user","dispatch","alert","setAlert","onToken","token","console","log","makeRequest","total","res","post","tokenId","id","amount","headers","currentUser","type","stripeData","data","products","err","height","padding","length","textAlign"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from \"react\";\nimport { Toast, ToastContainer } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport CartItem from \"../components/CartItem\";\nimport Footer from \"../components/Footer\";\nimport LowerAnnouncement from \"../components/LowerAnnouncement\";\nimport Navbar from \"../components/Navbar\";\nimport Newsletter from \"../components/Newsletter\";\nimport UpperAnnouncement from \"../components/UpperAnnouncement\";\nimport { large, medium } from \"../responsive\";\nimport { useNavigate } from \"react-router\";\nimport { publicRequest } from \"../axiosMethod\";\nimport StripeCheckout from \"react-stripe-checkout\";\n//styled comp\nconst MainContainer = styled.div`\n  background-color: whitesmoke;\n`;\nconst TopButtons = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 2rem 8rem;\n  ${medium({ margin: \"2rem 1rem\" })}\n`;\nconst Button = styled.div`\n  border: none;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 5px 0px,\n    rgba(0, 0, 0, 0.1) 0px 0px 1px 0px;\n  background-color: #464141;\n  color: white;\n  border-radius: 7px;\n  padding: 10px;\n  cursor: pointer;\n  margin: 1rem;\n  font-weight: 700;\n  transition: 0.3s ease;\n\n  &:hover {\n    background-color: #000;\n    color: #fff;\n\n    box-shadow: rgb(38, 57, 77) 0px 20px 20px -10px;\n  }\n  &:focus {\n    color: #0f0;\n  }\n`;\nconst Container = styled.div`\n  margin: 2rem 8rem;\n  display: flex;\n  gap: 2rem;\n  ${large({ margin: \"2rem 1rem\", gap: \"0\" })}\n  ${medium({ flexDirection: \"column\" })}\n`;\nconst OrderContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  width: 75%;\n  height: 100%;\n  gap: 2rem;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  ${medium({ width: \"100%\" })}\n`;\nconst SummaryContainer = styled.div`\n  background-color: white;\n  padding: 18px;\n  width: 25%;\n  height: 100%;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n  ${medium({ width: \"100%\" })}\n`;\nconst SummaryLine = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n`;\n\nconst Cart = () => {\n  const cart = useSelector((state) => state.cart);\n  const [stripeToken, setStripeToken] = useState(null);\n  const history = useNavigate();\n  const user = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n  const [alert, setAlert] = useState(false);\n  const onToken = (token) => {\n    console.log(token);\n    setStripeToken(token);\n  };\n\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        console.log(cart.total);\n        const res = await publicRequest.post(\n          \"/payment\",\n          {\n            tokenId: stripeToken.id,\n            amount: 500,\n          },\n          {\n            headers: {\n              token: user.currentUser.token,\n            },\n          }\n        );\n        dispatch({ type: \"emptyCart\" });\n        history(\"/success\", {\n          stripeData: res.data,\n          products: cart,\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    stripeToken && makeRequest();\n  }, [stripeToken]);\n\n  return (\n    <>\n      <ToastContainer positon=\"top-end\">\n        <Toast\n          bg={\"danger\"}\n          style={{ width: \"15rem\", height: \"3rem\", padding: \"5px\" }}\n          onClose={() => setAlert(false)}\n          show={alert}\n          delay={3000}\n          autohide\n        >\n          Please Log in to proceed Check out..!\n        </Toast>\n      </ToastContainer>\n\n      <MainContainer>\n        <UpperAnnouncement />\n        <Navbar />\n        <LowerAnnouncement />\n        <TopButtons>\n          <div>\n            <Link to=\"/products\">\n              <Button>Continue To Shop</Button>\n            </Link>\n          </div>\n          <div>\n            <h1>Your Bag</h1>\n          </div>\n        </TopButtons>\n        <Container>\n          {cart.products.length > 0 ? (\n            <>\n              <OrderContainer>\n                <CartItem />\n              </OrderContainer>\n              <SummaryContainer>\n                <div>\n                  <h3>SUMMARY</h3>\n                </div>\n                <SummaryLine>\n                  <div>SubTotal</div>\n                  <div> ${cart.total}</div>\n                </SummaryLine>\n                <SummaryLine>\n                  <div>Shipping</div>\n                  <div> $5</div>\n                </SummaryLine>\n                <SummaryLine>\n                  <div>Shipping Discount</div>\n                  <div> - $5</div>\n                </SummaryLine>\n                <SummaryLine>\n                  <div>Total</div>\n                  <div> ${cart.total}</div>\n                </SummaryLine>\n\n                {/* stipes */}\n                <div>\n                  {user.currentUser ? (\n                    <StripeCheckout\n                      name=\"MakeYouUp\"\n                      image=\"https://source.unsplash.com/yd3mg93Smn8\"\n                      billingAddress\n                      shippingAddress\n                      description={`Your Cart Total is $ ${cart.total}`}\n                      amount={cart.total * 100}\n                      token={onToken}\n                      stripeKey=\"pk_test_51Jx2WuSG7y1nLb4U9u9WivGzguKP1yPcnIMNrkXBAs7Hi4JiHfVYbETDhDDYUsoU3ZoGh7twA468JIIvhcPgizPd00E0HW7iaS\"\n                    >\n                      <Button>Checkout</Button>\n                    </StripeCheckout>\n                  ) : (\n                    <>\n                      <Button\n                        onClick={() => {\n                          setAlert(true);\n                        }}\n                      >\n                        checkOut\n                      </Button>\n                    </>\n                  )}\n                </div>\n\n                <div className=\"text-danger my-5 \">\n                  <p className=\"text-center bg-info p-3 text-light\">\n                    <b>IMPORTANT *</b>\n                  </p>\n                  <p>\n                    <b>Please use the below credentials to checkout</b>\n                  </p>\n                  <p>\n                    card number: <b>4242424242424242</b>\n                  </p>\n                  <p>\n                    Expiry:<b> 02/22 or any future dates </b>\n                  </p>\n                  <p>\n                    CVV: <b>222 or any three digit number</b>\n                  </p>\n                </div>\n              </SummaryContainer>\n            </>\n          ) : (\n            <>\n              <h2 style={{ textAlign: \"center\", width: \"100%\" }}>\n                Your Bag is empty\n              </h2>\n            </>\n          )}\n        </Container>\n        <Newsletter />\n        <Footer />\n      </MainContainer>\n    </>\n  );\n};\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}